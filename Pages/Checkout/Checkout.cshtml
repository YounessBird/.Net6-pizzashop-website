@page
@using Microsoft.Extensions.Options
@inject IOptions<PizzaShop.Infrastracture.StripeSettings> Stripe
    @model CheckoutModel


    <h1>You Order!</h1>
    @{
    var ImagePath="~/Images/Pizzas/" + @Model.ImageTitle + ".png";
    }
    <div class="align-content-center">
        <div class="col-3 mx-auto mb-5">
            <img src=@ImagePath alt="" class="w-100 mb-3" asp-append-version="true" />
            <p>Your order for the @Model.PizzaName piza is ready! </p>
            <p>Total price for your order is: Â£@Model.PizzaPrice </p>
            <form method="POST">
                <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                    data-key="@Stripe.Value.PublishableKey" data-name="PizzaShop"
                    data-description="Order For @Model.PizzaName Pizza" data-amount="@Model.TotalInPence"
                    data-currency="gbp" data-locale="en" data-zip-code="true">
                    </script>
            </form>
        </div>
    </div>